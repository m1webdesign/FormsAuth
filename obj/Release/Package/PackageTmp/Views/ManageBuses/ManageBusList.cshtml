@model System.Collections.Generic.List<MB.Models.POCO.Bus>



<table class="traditional">
    <tbody>

        @foreach(var businfo in Model)
        {
            <tr>

                <td class = "highlight">
                    <a href ="@Url.Action("EditBus", new{busid = businfo.ID})" class = "tableLink" name ="Edit Bus">
                            @if(@businfo.IconURL != null)
                            {<img src="@Href(@businfo.IconURL)" class="floatLeft" alt="@Href(@businfo.IconURL)" />}

                            <div class="listHead">
                                @businfo.MakeOfBus
                            </div>
                            <div class="listSubHead">
                                Future Bookings: 
                                @businfo.BookingInfos.Where(d => d.BookingDateTimeStart >= DateTime.Now).Count();
                            </div>
                            <div class="listSubHead">
                                Seat Number: @businfo.SeatNumber
                            </div>
                    </a>
                    <a href="@Url.Action("DeleteBus", new{id = businfo.ID})" class="delete" id="@businfo.ID"></a> 
                        @*set id so can access bookingid when deleting*@
                </td>
            </tr>
        }
    </tbody>
</table>