@model System.Collections.Generic.List<MB.ViewModels.BookingPeriod>



<table class="traditional">

    <tbody>

        @foreach (var bookingperiods in Model)
        {
            <tr>

                @if (bookingperiods.Booking != null)
                {
                    <td class="unavailable">
                            <div class="periodlabel">
                                <div class="name">
                                    @bookingperiods.Period.PeriodName
                                </div>
                            </div>

                            <div class="floatLeft">
                                <div class="listHead">
                                    <div class ="large">@bookingperiods.Booking.Destination </div>
                                </div>

                                <div class="listSubHead">
                                    @bookingperiods.Booking.StaffMember.Surname
                                </div>
                            </div>
                            <div class="clearfix"></div>
                       
                    </td>
                }
                
                else
                {

                        <td>
                            @*@Html.ActionLink("Make Booking", "NewBooking",
                                            new { selecteddate = bookingperiods.StartDate, busid = bookingperiods.BusID}, //currently selected date
                                            new { @class = "addLink" }) 
                            parameter needs same name as parameter in method
                            *@

                            <a href ="@Url.Action("NewBooking", "MakeBooking", new{selecteddate = bookingperiods.StartDate, busid = bookingperiods.BusID})" class = "tableLink">
                                <div class="periodlabel">
                                    <div class="name">
                                        @bookingperiods.Period.PeriodName
                                    </div>
                                </div>
                                
                                <div class="floatLeft">
                                    <div class="listHead" >
                                        <div class ="large">Available</div>
                                    </div>
                                    <div class="listSubHead">
                                        Make Booking
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                            </a>
                            
                        </td>
                    
                }

            </tr>

        }
    </tbody>
</table>



        @*

        @foreach(var bookingperiods in Model)
        {
            <tr>
                <td class="small">
                    @bookingperiods.Period.PeriodName

                </td>

                <td class ="large">
                    @if (bookingperiods.Booking != null)
                    {
                        <div class ="divLink">
                            @bookingperiods.Booking.Destination 
                            (
                            @bookingperiods.Booking.StaffMember.Surname
                            )
                        </div>

                    }
                    else
                    {
                        
                         @Html.ActionLink("Make Booking", "NewBooking",
                                            new { selecteddate = bookingperiods.StartDate, busid = bookingperiods.BusID}, //currently selected date
                                            new { @class = "addLink" })//parameter needs same name as parameter in method
                    }
                </td>
                </tr>

        }
        *@
    </tbody>
</table>

