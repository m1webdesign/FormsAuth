@model MB.ViewModels.BookingPeriod
@using (Ajax.BeginForm("EditBooking", "MyBookings", new AjaxOptions //action NewBooking on controller MakeBooking
                                                                        //not sending anything but few ajax options
        
        {//UpdateTargetId = "update-message",  //where response will be populated (update-message div)
                                                //won't be redirected, only div will be affected
            //InsertionMode = InsertionMode.Replace, //replace what is in div, not in addition to
            //HttpMethod = "POST", //do httppost
            //OnSuccess = "updateSuccess" //on success call javascript function updatesuccess
        }, new { @id = "target" }))  //giv e it a name so can update validation after gets dynamically loaded into dialog
    {
    
    @Html.ValidationSummary()

            
    <script type="text/javascript">
        //$(document).ready(function () {

        //    $(".datefield").datepicker({ dateFormat: 'dd/mm/yy' });
        //});


</script>
    
    
    <div id="update-message" class="error invisible"></div>
    <fieldset>
        <legend>View Booking</legend>
        @Html.HiddenFor(model => model.Booking.ID)
        @Html.HiddenFor(model => model.Booking.BusID)
        @Html.HiddenFor(model => model.Booking.UserID)
        <table>
            <tbody>
            <tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Booking.Destination)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        @Html.EditorFor(model => model.Booking.Destination)
                        <div class="clearfix"></div>
                        @Html.ValidationMessageFor(model => model.Booking.Destination)
                    </div>
                </td>
            </tr>

            @*<tr>
                <td>
                    <div class="editor-label">
                        @Html.LabelFor(model => model.Booking.Bus.MakeOfBus)
                    </div>
                </td>
                <td>
                    <div class="editor-field">
                        @Html.DisplayFor(model => model.Booking.Bus.MakeOfBus)
                        <div class="clearfix"></div>
                    </div>
                </td>
            </tr>*@

            <tr>
                <td>
                    <div class="editor-label">
                        @Html.Label("Booking From")
                    </div>
                </td>
                <td>
                <div class="editor-field">
                    @Html.DisplayFor(model => model.Booking.BookingDateTimeStart.Date)
                    <div class="clearfix"></div>
                    @Html.DisplayFor(model => model.Period.PeriodName)
                    @Html.HiddenFor(model => model.Booking.BookingDateTimeStart)
                    <div class="clearfix"></div>

                </div>
                </td>
            </tr>

            <tr>
                <td>
                <div class="editor-label">
                    @Html.Label("Booking Until")
                </div>
                </td>
                <td>
                <div class="editor-field">
                    @Html.DisplayFor(model => model.Booking.BookingDateTimeEnd.Date)
                    <div class="clearfix"></div>
                    @Html.DisplayFor(model => model.Period.PeriodName)
                    @*@Html.HiddenFor(model => model.Booking.BookingDateTimeStart)*@
                      <div class="clearfix"></div>

                </div>
                </td>
            </tr>
            </tbody>
        </table>
    </fieldset>
    }